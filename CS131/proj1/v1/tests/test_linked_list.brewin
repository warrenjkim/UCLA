(class main
  (field list null)
  (field counter 1)
  (method main ()
    (begin
      (set list (new linkedlist))
      (call list init 0)
      (while (<= counter 5)
        (begin
          (call list append counter)
          (set counter (+ counter 1))
        )
      )
      (call list print_all)
    )
  )
)

(class linkedlist
  (field value 0)
  (field temp null)
  (field next null)

  (method init (v)
    (set value v)
  )
  (method append (v)
    (if (== next null)
      (begin
        (set temp (new linkedlist))
        (call temp init v)
        (set next temp)
      )
      (call next append v)
    )
  )
  (method print_all ()
    (begin
      (print value)
      (if (!= next null)
        (call next print_all)
      )
    )
  )
)